<!doctype html>
<html lang="th" class="h-full">
<head>
	<meta charset="utf-8" />
	<link rel="icon" href="%sveltekit.assets%/favicon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	<!-- App metadata -->
	<title>%sveltekit.title%</title>
	<meta name="description" content="ระบบรายงานการติดตาม การเฝ้าระวัง และควบคุมโรค" />
	<meta name="keywords" content="โรค, รายงาน, เฝ้าระวัง, ควบคุม, สาธารณสุข" />
	<meta name="author" content="Disease Report System" />
	
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content="ระบบรายงานโรค" />
	<meta property="og:description" content="ระบบรายงานการติดตาม การเฝ้าระวัง และควบคุมโรค" />
	
	<!-- Twitter -->
	<meta property="twitter:card" content="summary" />
	<meta property="twitter:title" content="ระบบรายงานโรค" />
	<meta property="twitter:description" content="ระบบรายงานการติดตาม การเฝ้าระวัง และควบคุมโรค" />
	
	<!-- Preconnect to backend API -->
	<link rel="preconnect" href="http://localhost:3000" />
	
	<!-- Thai fonts from Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
	
	<!-- Favicon and app icons -->
	<link rel="apple-touch-icon" sizes="180x180" href="%sveltekit.assets%/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="%sveltekit.assets%/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="%sveltekit.assets%/favicon-16x16.png" />
	<link rel="manifest" href="%sveltekit.assets%/site.webmanifest" />
	
	<!-- Theme color -->
	<meta name="theme-color" content="#3b82f6" />
	<meta name="msapplication-TileColor" content="#3b82f6" />
	
	<!-- Prevent flash of unstyled content -->
	<style>
		/* Minimal CSS to prevent FOUC */
		html {
			background-color: #f8fafc;
			color: #1e293b;
		}
		
		body {
			margin: 0;
			padding: 0;
			font-family: 'Inter', 'Noto Sans Thai', system-ui, sans-serif;
			line-height: 1.6;
		}
		
		/* Loading spinner styles */
		.loading-spinner {
			display: inline-block;
			width: 20px;
			height: 20px;
			border: 3px solid #f3f4f6;
			border-radius: 50%;
			border-top-color: #3b82f6;
			animation: spin 1s ease-in-out infinite;
		}
		
		@keyframes spin {
			to { transform: rotate(360deg); }
		}
		
		/* Focus outline for accessibility */
		:focus-visible {
			outline: 2px solid #3b82f6;
			outline-offset: 2px;
		}
		
		/* Thai font optimization */
		.thai-text {
			font-family: 'Noto Sans Thai', 'Inter', system-ui, sans-serif;
		}
	</style>
	
	%sveltekit.head%
</head>
<body data-sveltekit-preload-data="hover" class="h-full bg-slate-50">
	<!-- App container -->
	<div style="display: contents" class="h-full">%sveltekit.body%</div>
	
	<!-- Service worker registration -->
	<script>
		// Register service worker for offline functionality
		if ('serviceWorker' in navigator) {
			navigator.serviceWorker.register('/service-worker.js');
		}
		
		// Add global error handler
		window.addEventListener('unhandledrejection', event => {
			console.error('Unhandled promise rejection:', event.reason);
		});
		
		// Add network status detection
		window.addEventListener('online', () => {
			document.body.classList.remove('offline');
			console.log('Connection restored');
		});
		
		window.addEventListener('offline', () => {
			document.body.classList.add('offline');
			console.log('Connection lost');
		});
	</script>
</body>
</html>